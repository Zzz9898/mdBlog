---
title: IOC控制反转初识
tags: spring,ioc,控制反转
grammar_zjwJava: true
---

> 控制反转（Inversion of Control，缩写为IoC），是面向对象编程中的一种设计原则，可以用来减低计算机代码之间的耦合度。其中最常见的方式叫做依赖注入（Dependency Injection，简称DI），还有一种方式叫“依赖查找”（Dependency Lookup）。通过控制反转，对象在被创建的时候，由一个调控系统内所有对象的外界实体将其所依赖的对象的引用传递给它。也可以说，依赖被注入到对象中。

最近在学spring家族的框架时，顺便去看了下IOC控制反转原理，看了网上的博客https://www.cnblogs.com/superjt/p/4311577.html， 深有体会，也就是说IOC原理提出的背景就是在底层设计时，是有N个对象一起进行共同运转的，这些类通过合作，来实现业务逻辑，类和类之前互相引用，造成了耦合度过高的系统，这样的话如果在某一个类出现了问题，那么就可能引起整个系统的崩溃，所以IOC得以出现，它出现的目的就是为了降低类与类之前的耦合度过高的问题，IOC就相当于一个容器一样，把类都交给它来管理，当某一个类需要引用另外一个类时，那么IOC容器就把对应的对象给他，而不需要它自己来引入需要的类，降低了类与类之间的耦合度。
我们回顾一下在我们不使用框架时，当Controller层需要Service层的对象时，我们需要在Controller里面new一个Service的对象，再通过这个对象来调用想要的方法，就是因为每次都需要自己new对象出来，造成了耦合度过高的现象，但是我们使用spring的框架后，我们在创建好类后，都会在spring的xml文件中配置：

``` 
	<bean id="spellChecker" class="com.tutorialspoint.SpellChecker">
   </bean>
```
这样一个标签，其中id就是它的名字，class中的值就是我们创建的类的路径，这个就是我们把类交给了IOC容器，让它来管理每一个类，其中为什么传入路径呢，这里是用到了反射机制，通过这个字符串就将文件中的class文件加载到内存中，这样每声明一个类，我们都要配置这么一个标签，把类交给IOC容器来管理，而当我们需要使用某一个类时，就不再需要new出这个类对象，只要声明这个属性，使用@Autowired，再创建setter方法就可以得到这个对象了，这就是告诉IOC容器，我需要这个类对象，然后它就会把这个类对象给你，从而降低了类之间的耦合度，把类的管理都交给了IOC容器，IOC容器就对这些类进行管理了，不再需要类自己去创建需要类的对象。